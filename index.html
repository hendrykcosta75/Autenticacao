<!DOCTYPE html>
<html lang="pt-br">
<head>
	<title>Login</title>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">

</head>
<body>
	
	<div class="limiter">
		<div class="container-login100">
			<div class="wrap-login100">
				<form class="login100-form validate-form p-l-55 p-r-55 p-t-178" id="login">
					<span class="login100-form-title">
						Login
					</span>

					<div class="wrap-input100 validate-input m-b-16">
						<input class="input100" type="email" name="username" placeholder="Email" id="email" required>
						<span class="focus-input100"></span>
					</div>

					<div class="wrap-input100 validate-input">
						<input class="input100" type="password" name="pass" placeholder="Senha" id="senha" required>
						<span class="focus-input100"></span>
					</div>


					<div class="container-login100-form-btn p-t-20">
						<button type="submit" class="login100-form-btn" id="submitButton">
							Login
						</button>
					</div>

					<div class="flex-col-c p-t-170 p-b-40">
						<span class="txt1 p-b-9">
							NÃ£o Possui Conta?
						</span>

						<a href="cadastro.html" class="txt3">
							Cadastrar
						</a>
					</div>
				</form>
			</div>
		</div>
	</div>

    <script type="module">
		// Import the functions you need from the SDKs you need
		import { initializeApp } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-app.js";
		import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.2.0/firebase-auth.js";
		// TODO: Add SDKs for Firebase products that you want to use
		// https://firebase.google.com/docs/web/setup#available-libraries
	  
		// Your web app's Firebase configuration
		const firebaseConfig = {
		  apiKey: "AIzaSyBV9qZRYgmjgXZd4InMAHPa6xeA1MXUj5k",
		  authDomain: "autenticacao-usuario-c6eb5.firebaseapp.com",
		  projectId: "autenticacao-usuario-c6eb5",
		  storageBucket: "autenticacao-usuario-c6eb5.appspot.com",
		  messagingSenderId: "930821960907",
		  appId: "1:930821960907:web:df5ccf4b5b274b09b6974e"
		};
	  
		// Initialize Firebase
		const app = initializeApp(firebaseConfig);
		const auth = getAuth(app);


		const formulario = document.getElementById("login");
		const buttonSubmit = document.getElementById('submitButton');

		formulario.addEventListener('submit', function(event){
			event.preventDefault();

			const email = document.getElementById("email").value;
			const senha = document.getElementById("senha").value;

            buttonSubmit.disabled = true;
			buttonSubmit.innerHTML = `
            <div class="spinner-border text-success" role="status">
                <span class="sr-only"></span>
            </div>
        	`;

			signInWithEmailAndPassword(auth,email, senha)
			.then(function(userCredential){
				const user = userCredential.user;
				window.location.href = "perfil.html";
			}).catch(function(error){
				alert("Email e/ou senha incorretos");
			});

		});

			

	</script>


</body>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</html>